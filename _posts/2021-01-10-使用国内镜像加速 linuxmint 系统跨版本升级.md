---
layout:     post
title:      使用国内镜像加速linuxmint系统跨版本升级
subtitle:   使用国内镜像加速linuxmint20升级到20.1
date:       2021-01-10
author:     Duter2016
header-img: img/post-bg-dutbsyj.jpg
header-mask: "0.4"                    # 博文页面上端的背景图片的亮度，数值越大越黑暗
catalog: true
istop: true
tags:
    - Linux
---

> 由于官方的升级源地址是 linuxmint 和 ubuntu 官方的，国内使用网速太慢，需要修改源地址才能加速。

修改文件为 （ 谨记修改前先备份一份）： `/usr/share/linuxmint/mintupgrade/apt_destination_sources`
以 及
`/etc/apt/sources.list.d/official-package-repositories.list`。

修改前 `apt_destination_sources` 内容类似（ 以 linuxmint19.3 升级到 20 为例） 如下：

```
# Do not edit this file manually, use Software Sources instead.

deb http://packages.linuxmint.com ulyssa main upstream import backport #id:linuxmint_main

deb http://archive.ubuntu.com/ubuntu focal main restricted universe multiverse
deb http://archive.ubuntu.com/ubuntu focal-updates main restricted universe multiverse
deb http://archive.ubuntu.com/ubuntu focal-backports main restricted universe multiverse

deb http://security.ubuntu.com/ubuntu/ focal-security main restricted universe multiverse
deb http://archive.canonical.com/ubuntu/ focal partner
```

**下面开始上干货：**

（ 1） 第一次更改镜像源：

①从 linuxmint19.3 升级到 20 的修改方法：

修 改 如 下 两 个 文 件 ： 修 改 `/usr/share/linuxmint/mintupgrade/apt_destination_source` 以 及
`/etc/apt/sources.list.d/official-package-repositories.list` ， 替换以上两个文件内容为中科大地址：

```
deb https://mirrors.ustc.edu.cn/linuxmint/ ulyana main upstream import backport
deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb http://archive.canonical.com/ubuntu/ focal partner
```

②从 linuxmint20 升级到 20.1 的修改方法：

修 改 如 下 两 个 文 件 ： 修 改 `/usr/share/linuxmint/mintupgrade/apt_destination_source` 以 及
`/etc/apt/sources.list.d/official-package-repositories.list` ， 替换以上两个文件内容为中科大地址：

```
deb https://mirrors.ustc.edu.cn/linuxmint/ ulyssa main upstream import backport
deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb http://archive.canonical.com/ubuntu/ focal partner
```

（ 2）执行 `sudo apt-get update`，此时会出现一些需要升级的软件，然后执行 `sudo apt-get upgrade`。
（ 你也可以在更新管理器里执行“刷新--安装更新” 操作）

这一步一定要执行， 否则你如果直接进行`“ 编辑--升级到 linuxmint20.1”` 操作， 升级又会被强
制切换到极慢的官方源！

（ 3） 第二次更改镜像源：

第二步后， 有时会被强制换源到官方源， 所以我们继续重复步骤（ 1） 的操作！

①从 linuxmint19.3 升级到 20 的修改方法：

修 改 如 下 两 个 文 件 ： 修 改 `/usr/share/linuxmint/mintupgrade/apt_destination_source` 以 及
`/etc/apt/sources.list.d/official-package-repositories.list` ， 替换以上两个文件内容为中科大地址：

```
deb https://mirrors.ustc.edu.cn/linuxmint/ ulyana main upstream import backport
deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb http://archive.canonical.com/ubuntu/ focal partner
```

②从 linuxmint20 升级到 20.1 的修改方法：

修 改 如 下 两 个 文 件 ： 修 改 `/usr/share/linuxmint/mintupgrade/apt_destination_source` 以 及
`/etc/apt/sources.list.d/official-package-repositories.list` ， 替换以上两个文件内容为中科大地址：

```
deb https://mirrors.ustc.edu.cn/linuxmint/ ulyssa main upstream import backport
deb https://mirrors.ustc.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb http://archive.canonical.com/ubuntu/ focal partner
```

（ 4） 执行真正的升级：

执行`“编辑--升级到 linuxmint xx.x” `操作。

然后继续安装官方教程进行升级就可以了！

> 附注： 每一个版本的升级步骤（ 1） 和（ 3） 修改的内容是不同的， 因为 linuxmint 和 ubuntu
的各个版本代号都不同！例如:
>> Ubuntu 版本代号为: 20.04： focal； 18.04： bionic； 17.10： artful； 16.04：
xenial； 14.04： trusty。 
>>Linuxmint 版本代号为： 20 : ulyana； 20.1 : ulyssa。

如果你有“洁癖”，升级完成后，你可以再把以上两个文件再修改为原始的文件！哈哈！
